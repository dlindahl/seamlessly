/*! Seamlessly - v0.0.1 - 2012-10-24
* https://github.com/dlindahl/seamlessly
* Copyright (c) 2012 Derek Lindahl; Licensed MIT, GPL */
(function(){var a,b,c,d=[].slice,e=this;c=this,b=function(a,b,c){var e;return e=null,function(){var f,g,h;return f=1<=arguments.length?d.call(arguments,0):[],h=this,g=function(){return c||a.apply(h,f),e=null},e?clearTimeout(e):c&&a.apply(h,f),e=setTimeout(g,b||100)}},a={init:function(){return this.subscribeToMessages(),this.listenForChanges(),this.publishSize()},publish:function(a,b){return c.parent.postMessage([a,b],"*")},publishSize:b(function(){return a.publish("setHeight",document.querySelector("html").offsetHeight)},50),listenForChanges:function(){var a,b,c;return c=document.querySelector("html"),b=new WebKitMutationObserver(this.onMutation),a={attributes:!0,childList:!0,characterData:!0},b.observe(c,a)},subscribeToMessages:function(){return c.addEventListener("message",this.onMessage,!1)},onMessage:function(b){var c,d,e;d=b.data[0],d=d[0].toUpperCase()+d.slice(1),c=b.data[1],e=a["on"+d];if(e)return e.call(a,c)},onMutation:function(){return e.resize()},onReferrer:function(a){var b;return b=document.createElement("base"),b.setAttribute("href",a),b.setAttribute("target","_parent"),document.getElementsByTagName("head")[0].appendChild(b)},onCss:function(a){var b;return b=document.createElement("style"),b.innerHTML=a,document.getElementsByTagName("head")[0].appendChild(b),this.publishSize()}},a.init()}).call(this);